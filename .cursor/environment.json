{
  "$schema": "https://cursor.sh/schemas/v1/environment.json",
  "name": "stepfault-dev-box",
  "image": {
    "type": "ubuntu",
    "version": "22.04"
  },
  "install": {
    "script": [
      "sudo apt-get update",
      "sudo apt-get install -y python3 python3-pip python3-venv git postgresql-client",
      "python3 -m venv .venv",
      ". .venv/bin/activate && pip install -U pip setuptools wheel",
      ". .venv/bin/activate && pip install -r requirements.txt || true"
    ]
  },
  "run": {
    "script": [
      ". .venv/bin/activate",
      "pytest"
    ]
  },
  "git": {
    "autoCommit": false
  }
}

